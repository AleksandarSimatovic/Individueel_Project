{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asimatovic\\\\GitProjecten\\\\destinationFinder\\\\client\\\\src\\\\SearchByPreferences.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\n\nclass PreferenceInput extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.onChangeMinDistance = e => {\n      const minDist = e.target.value;\n      this.setState({\n        minDist: minDist\n      });\n    };\n\n    this.onChangeMaxDistance = e => {\n      const maxDist = e.target.value;\n      this.setState({\n        maxDist: maxDist\n      });\n    };\n\n    this.onChangeMinTemperature = e => {\n      const minTemp = e.target.value;\n      this.setState({\n        minTemp: minTemp\n      });\n    };\n\n    this.onChangeMaxTemperature = e => {\n      const maxTemp = e.target.value;\n      this.setState({\n        maxTemp: maxTemp\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault(); //        console.log(this.state);\n\n      this.getCapitals();\n    };\n\n    this.getCapitals = async () => {\n      const response = await axios.get('http://localhost:5000/cities'); //        console.log(response.data);\n\n      if (this.state.maxDist === \"\") {\n        this.setState({\n          maxDist: 100000\n        });\n      }\n\n      ;\n\n      if (this.state.maxTemp === \"\") {\n        this.setState({\n          maxTemp: 100\n        });\n      }\n\n      ;\n      ReactDOM.render(React.createElement(this.showPrefOutput, {\n        msg: response.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), document.getElementById('outputPrefSearch'));\n    };\n\n    this.onChangeSort = e => {\n      this.setState({\n        sortStrat: e.target.value\n      });\n    };\n\n    this.onChangeAmountOfCities = e => {\n      this.setState({\n        amountOfCities: e.target.value\n      });\n    };\n\n    this.showPrefOutput = props => {\n      let x = props.msg;\n      this.sortBy(x);\n      let answer = [];\n      answer[0] = React.createElement(\"thead\", {\n        key: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"City\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Distance\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Temperature\")));\n      let i = 1;\n\n      for (i = 1; i < props.msg.length + 1; i++) {\n        if (props.msg[i - 1].distance >= this.state.minDist && props.msg[i - 1].distance <= this.state.maxDist && props.msg[i - 1].temperature >= this.state.minTemp && props.msg[i - 1].temperature <= this.state.maxTemp) {\n          //                console.log(this.state);\n          answer[i] = React.createElement(\"tbody\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, props.msg[i - 1].cityName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, props.msg[i - 1].distance), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, props.msg[i - 1].temperature)));\n        }\n      }\n\n      return answer;\n    };\n\n    this.state = {\n      temperature: \"\",\n      minDist: 0,\n      maxDist: 100000,\n      minTemp: -100,\n      maxTemp: 100,\n      sortStrat: \"distance\"\n    };\n  }\n\n  sortBy(x) {\n    if (this.state.sortStrat === 'temperature') {\n      x.sort(function (a, b) {\n        return b.temperature - a.temperature;\n      });\n    } else if (this.state.sortStrat === 'distance') {\n      x.sort(function (a, b) {\n        return a.distance - b.distance;\n      });\n    } else if (this.state.sortStrat === \"tempDistCombi\") {\n      x.sort(function (b, a) {\n        return 1 / a.distance * (a.temperature + 5) - 1 / b.distance * (b.temperature + 5);\n      });\n    } else alert(this.state.sortStrat);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"formPrefSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Distance\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Min \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMinDistance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Max \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMaxDistance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Temperature\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Min \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMinTemperature,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Max \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMaxTemperature,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Sort by\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"select\", {\n      onChange: this.onChangeSort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"distance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Distance\"), React.createElement(\"option\", {\n      value: \"temperature\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Temperature\"), React.createElement(\"option\", {\n      value: \"tempDistCombi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Temperature Distance Combi\"))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Amount of cities\", React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeAmountOfCities,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Find cities!\"))), React.createElement(\"div\", {\n      id: \"testDIV\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"outputPrefSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default PreferenceInput;","map":{"version":3,"sources":["C:/Users/asimatovic/GitProjecten/destinationFinder/client/src/SearchByPreferences.js"],"names":["React","axios","ReactDOM","PreferenceInput","Component","constructor","props","onChangeMinDistance","e","minDist","target","value","setState","onChangeMaxDistance","maxDist","onChangeMinTemperature","minTemp","onChangeMaxTemperature","maxTemp","onSubmit","preventDefault","getCapitals","response","get","state","render","data","document","getElementById","onChangeSort","sortStrat","onChangeAmountOfCities","amountOfCities","showPrefOutput","x","msg","sortBy","answer","i","length","distance","temperature","cityName","sort","a","b","alert"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport ReactDOM from 'react-dom';\r\n\r\n\r\nclass PreferenceInput extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            temperature: \"\",\r\n            minDist: 0,\r\n            maxDist: 100000,\r\n            minTemp: -100,\r\n            maxTemp: 100,\r\n            sortStrat: \"distance\"\r\n        };\r\n    }\r\n\r\n    onChangeMinDistance = (e) => {\r\n        const minDist = e.target.value;\r\n        this.setState({minDist: minDist});\r\n    }\r\n\r\n    onChangeMaxDistance = (e) => {\r\n        const maxDist = e.target.value;\r\n        this.setState({maxDist: maxDist});\r\n    }\r\n\r\n    onChangeMinTemperature = (e) => {\r\n        const minTemp = e.target.value;\r\n        this.setState({minTemp: minTemp});\r\n    }\r\n\r\n    onChangeMaxTemperature = (e) => {\r\n        const maxTemp = e.target.value;\r\n        this.setState({maxTemp: maxTemp});\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n//        console.log(this.state);\r\n        this.getCapitals();\r\n    }\r\n\r\n    getCapitals = (async() => {\r\n        const response = await axios.get('http://localhost:5000/cities');\r\n//        console.log(response.data);\r\n        if(this.state.maxDist === \"\"){ this.setState({maxDist: 100000})};\r\n        if(this.state.maxTemp === \"\"){ this.setState({maxTemp: 100})};\r\n        ReactDOM.render(<this.showPrefOutput msg={response.data} />, document.getElementById('outputPrefSearch'));\r\n    })\r\n\r\n    onChangeSort = (e) => {\r\n        this.setState({sortStrat: e.target.value});\r\n    }\r\n\r\n    onChangeAmountOfCities = (e) => {\r\n        this.setState({amountOfCities: e.target.value});\r\n    }\r\n\r\n    sortBy(x){\r\n        if(this.state.sortStrat === 'temperature'){\r\n            x.sort(function (a, b ) {\r\n                return b.temperature - a.temperature;\r\n            })\r\n        }\r\n        else if (this.state.sortStrat === 'distance'){\r\n            x.sort(function (a, b ) {\r\n                return a.distance - b.distance;\r\n            })\r\n        }\r\n        else if(this.state.sortStrat === \"tempDistCombi\"){\r\n            x.sort(function (b, a ) {\r\n                return ((1/a.distance)*(a.temperature+5)) - ((1/b.distance)*(b.temperature+5));\r\n            })\r\n        }\r\n        else alert(this.state.sortStrat);\r\n    }\r\n\r\n    showPrefOutput = (props) => {\r\n        let x = props.msg;\r\n        this.sortBy(x);\r\n\r\n        let answer = [];\r\n        answer[0] = <thead key=\"0\"><tr><td>City</td><td>Distance</td><td>Temperature</td></tr></thead>;\r\n        let i = 1;\r\n        for (i = 1; i<props.msg.length + 1;i++){\r\n            if(props.msg[i-1].distance >= this.state.minDist && props.msg[i-1].distance <= this.state.maxDist\r\n                && props.msg[i-1].temperature >= this.state.minTemp && props.msg[i-1].temperature <= this.state.maxTemp\r\n                ) {\r\n//                console.log(this.state);\r\n                answer[i] = <tbody key={i}><tr><td>{props.msg[i-1].cityName}</td><td>{props.msg[i-1].distance}</td><td>{props.msg[i-1].temperature}</td></tr></tbody>\r\n            }\r\n        }\r\n        return (\r\n            answer\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"formPrefSearch\">\r\n                    <form onSubmit={this.onSubmit}>\r\n                          <h2>Distance</h2>\r\n                          <p>\r\n                              <label>Min <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMinDistance} />\r\n                                  </label>\r\n                                  <span>&nbsp;</span>\r\n                                  <label>Max <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMaxDistance} />\r\n                              </label>\r\n                          </p>\r\n\r\n                          <h2>Temperature</h2>\r\n                          <p>\r\n                              <label>Min <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMinTemperature} />\r\n                              </label>\r\n                              <span>&nbsp;</span>\r\n                              <label>Max <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMaxTemperature} />\r\n                              </label>\r\n                          </p>\r\n\r\n                           <p>\r\n                              <label>Sort by<span>&nbsp;</span>\r\n                                  <select onChange={this.onChangeSort}>\r\n                                    <option value=\"distance\">Distance</option>\r\n                                    <option value=\"temperature\">Temperature</option>\r\n                                    <option value=\"tempDistCombi\">Temperature Distance Combi</option>\r\n                                  </select>\r\n                              </label>\r\n                              <label>Amount of cities\r\n                                <input type='text' onChange={this.onChangeAmountOfCities} />\r\n                              </label>\r\n                           </p>\r\n                          <button>\r\n                            Find cities!\r\n                          </button>\r\n                      </form>\r\n                </div>\r\n                  <div id=\"testDIV\">\r\n                    <table  id=\"outputPrefSearch\">\r\n\r\n                    </table>\r\n                  </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default PreferenceInput"]},"metadata":{},"sourceType":"module"}