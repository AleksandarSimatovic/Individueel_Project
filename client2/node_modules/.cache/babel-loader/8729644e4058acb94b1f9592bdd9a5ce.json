{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asimatovic\\\\GitProjecten\\\\destinationFinder\\\\client\\\\src\\\\SearchByPreferences.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\n\nclass PreferenceInput extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.onChangeMinDistance = e => {\n      const minDist = e.target.value;\n      this.setState({\n        minDist: minDist\n      });\n    };\n\n    this.onChangeMaxDistance = e => {\n      const maxDist = e.target.value;\n      this.setState({\n        maxDist: maxDist\n      });\n    };\n\n    this.onChangeMinTemperature = e => {\n      const minTemp = e.target.value;\n      this.setState({\n        minTemp: minTemp\n      });\n    };\n\n    this.onChangeMaxTemperature = e => {\n      const maxTemp = e.target.value;\n      this.setState({\n        maxTemp: maxTemp\n      });\n    };\n\n    this.onChangeContinent = e => {\n      const continent = e.target.value;\n      this.setState({\n        continent: continent\n      });\n    };\n\n    this.onChangeSpokenLanguages = e => {\n      const languages = e.target.value;\n      this.setState({\n        spokenLanguages: languages\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.getCapitals();\n    };\n\n    this.getCapitals = async () => {\n      const response = await axios.get('cities');\n\n      if (this.state.maxDist === \"\") {\n        this.setState({\n          maxDist: 100000\n        });\n      }\n\n      ;\n\n      if (this.state.maxTemp === \"\") {\n        this.setState({\n          maxTemp: 100\n        });\n      }\n\n      ;\n\n      if (this.state.minTemp === \"\") {\n        this.setState({\n          minTemp: -100\n        });\n      }\n\n      ;\n\n      if (this.state.amountOfCities === \"\") {\n        this.setState({\n          amountOfCities: 100\n        });\n      }\n\n      ;\n      ReactDOM.render(React.createElement(this.showPrefOutput, {\n        msg: response.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), document.getElementById('outputPrefSearch'));\n    };\n\n    this.onChangeSort = e => {\n      this.setState({\n        sortStrat: e.target.value\n      });\n    };\n\n    this.onChangeAmountOfCities = e => {\n      this.setState({\n        amountOfCities: e.target.value\n      });\n    };\n\n    this.viewBtn = x => event => {\n      event.preventDefault();\n      var viewMSG = \"User ratings: \\n \\n\";\n\n      for (let i = 0; i < x.length; i++) {\n        viewMSG += \"Username: \" + x[i].username + \"\\n\";\n        viewMSG += \"Rating: \" + x[i].amountOfStars + \"\\n\";\n        viewMSG += \"Message: \" + x[i].message + \"\\n\";\n        viewMSG += \"\\n\";\n      }\n\n      alert(viewMSG);\n    };\n\n    this.showPrefOutput = props => {\n      let x = props.msg;\n      this.sortBy(x);\n      let answer = [];\n      answer[0] = React.createElement(\"thead\", {\n        key: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"City\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Country\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Distance (km) \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Temperature Now (C)\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Temperature Min (C)\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Temperature Max (C)\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Rating (1-5)\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Number of ratings\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })));\n      let i = 1;\n      let citiesDisplayed = 0;\n\n      for (i = 1; i < props.msg.length + 1; i++) {\n        if (props.msg[i - 1].distance >= this.state.minDist && props.msg[i - 1].distance <= this.state.maxDist && props.msg[i - 1].temperature >= this.state.minTemp && props.msg[i - 1].temperature <= this.state.maxTemp) {\n          if (this.state.continent !== \"--\") {\n            if (this.state.continent === props.msg[i - 1].continent) {\n              if (citiesDisplayed < this.state.amountOfCities) {\n                answer[i] = React.createElement(\"tbody\", {\n                  key: i,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 152\n                  },\n                  __self: this\n                }, React.createElement(\"tr\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 152\n                  },\n                  __self: this\n                }, React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 153\n                  },\n                  __self: this\n                }, props.msg[i - 1].cityName), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 154\n                  },\n                  __self: this\n                }, props.msg[i - 1].countryName), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 155\n                  },\n                  __self: this\n                }, props.msg[i - 1].distance), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 156\n                  },\n                  __self: this\n                }, props.msg[i - 1].temperature), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 157\n                  },\n                  __self: this\n                }, props.msg[i - 1].temperatureMin), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 158\n                  },\n                  __self: this\n                }, props.msg[i - 1].temperatureMax), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 159\n                  },\n                  __self: this\n                }, props.msg[i - 1].currentRating.toFixed(1)), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 160\n                  },\n                  __self: this\n                }, props.msg[i - 1].cityRating.length), React.createElement(\"td\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 161\n                  },\n                  __self: this\n                }, React.createElement(\"button\", {\n                  type: \"button\",\n                  onClick: this.viewBtn(props.msg[i - 1].cityRating),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 161\n                  },\n                  __self: this\n                }, \"view\"))));\n                citiesDisplayed++;\n              }\n            }\n          } else if (citiesDisplayed < this.state.amountOfCities) {\n            answer[i] = React.createElement(\"tbody\", {\n              key: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 169\n              },\n              __self: this\n            }, React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 169\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 170\n              },\n              __self: this\n            }, props.msg[i - 1].cityName), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 171\n              },\n              __self: this\n            }, props.msg[i - 1].countryName), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 172\n              },\n              __self: this\n            }, props.msg[i - 1].distance), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 173\n              },\n              __self: this\n            }, props.msg[i - 1].temperature), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 174\n              },\n              __self: this\n            }, props.msg[i - 1].temperatureMin), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 175\n              },\n              __self: this\n            }, props.msg[i - 1].temperatureMax), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 176\n              },\n              __self: this\n            }, props.msg[i - 1].currentRating.toFixed(1)), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 177\n              },\n              __self: this\n            }, props.msg[i - 1].cityRating.length), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 178\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              type: \"button\",\n              onClick: this.viewBtn(props.msg[i - 1].cityRating),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 178\n              },\n              __self: this\n            }, \"view\"))));\n            citiesDisplayed++;\n          }\n        }\n      }\n\n      return answer;\n    };\n\n    this.state = {\n      temperature: \"\",\n      minDist: 0,\n      maxDist: 100000,\n      minTemp: -100,\n      maxTemp: 100,\n      sortStrat: \"distanceLow\",\n      amountOfCities: 1000,\n      continent: \"--\",\n      spokenLanguages: []\n    };\n  }\n\n  sortBy(x) {\n    if (this.state.sortStrat === 'temperatureHigh') {\n      x.sort(function (a, b) {\n        return b.temperatureMax - a.temperatureMax;\n      });\n    } else if (this.state.sortStrat === 'temperatureLow') {\n      x.sort(function (a, b) {\n        return a.temperatureMin - b.temperatureMin;\n      });\n    } else if (this.state.sortStrat === 'distanceLow') {\n      x.sort(function (a, b) {\n        return a.distance - b.distance;\n      });\n    } else if (this.state.sortStrat === 'distanceHigh') {\n      x.sort(function (a, b) {\n        return b.distance - a.distance;\n      });\n    } else if (this.state.sortStrat === \"tempDistCombi\") {\n      x.sort(function (b, a) {\n        return 1 / a.distance * (a.temperatureMax + 5) - 1 / b.distance * (b.temperatureMax + 5);\n      });\n    } else if (this.state.sortStrat === \"ratingHigh\") {\n      x.sort(function (a, b) {\n        return b.currentRating - a.currentRating;\n      });\n    } else if (this.state.sortStrat === \"all\") {\n      x.sort(function (b, a) {\n        return a.distance / 2 / a.distance * (a.temperatureMax + 5) * a.currentRating - b.distance / 2 / b.distance * (b.temperatureMax + 5) * b.currentRating;\n      });\n    } else alert(this.state.sortStrat);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"formPrefSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Distance\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Min \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMinDistance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Max \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMaxDistance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }))), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Temperature\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Min \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMinTemperature,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Max \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeMaxTemperature,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Sort by\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"select\", {\n      onChange: this.onChangeSort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"distanceLow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Distance Low to High\"), React.createElement(\"option\", {\n      value: \"distanceHigh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Distance High to Low\"), React.createElement(\"option\", {\n      value: \"temperatureHigh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Temperature High to Low\"), React.createElement(\"option\", {\n      value: \"temperatureLow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Temperature Low to High\"), React.createElement(\"option\", {\n      value: \"tempDistCombi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Temperature Distance Combi\"), React.createElement(\"option\", {\n      value: \"ratingHigh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Only rating\"), React.createElement(\"option\", {\n      value: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"All\"))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"\\xA0\\xA0\"), \"Max amount of cities\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeAmountOfCities,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Continent\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"\\xA0\\xA0\"), React.createElement(\"select\", {\n      onChange: this.onChangeContinent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"--\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Choose continent\"), React.createElement(\"option\", {\n      value: \"EU\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Europe\"), React.createElement(\"option\", {\n      value: \"AF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Africa\"), React.createElement(\"option\", {\n      value: \"NA\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"North America\"), React.createElement(\"option\", {\n      value: \"SA\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"South America\"), React.createElement(\"option\", {\n      value: \"AS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Asia\"), React.createElement(\"option\", {\n      value: \"OC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Australia\")))), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Find cities!\"))), React.createElement(\"div\", {\n      id: \"testDIV\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"outputPrefSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default PreferenceInput;","map":{"version":3,"sources":["C:/Users/asimatovic/GitProjecten/destinationFinder/client/src/SearchByPreferences.js"],"names":["React","axios","ReactDOM","PreferenceInput","Component","constructor","props","onChangeMinDistance","e","minDist","target","value","setState","onChangeMaxDistance","maxDist","onChangeMinTemperature","minTemp","onChangeMaxTemperature","maxTemp","onChangeContinent","continent","onChangeSpokenLanguages","languages","spokenLanguages","onSubmit","preventDefault","getCapitals","response","get","state","amountOfCities","render","data","document","getElementById","onChangeSort","sortStrat","onChangeAmountOfCities","viewBtn","x","event","viewMSG","i","length","username","amountOfStars","message","alert","showPrefOutput","msg","sortBy","answer","citiesDisplayed","distance","temperature","cityName","countryName","temperatureMin","temperatureMax","currentRating","toFixed","cityRating","sort","a","b"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass PreferenceInput extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            temperature: \"\",\r\n            minDist: 0,\r\n            maxDist: 100000,\r\n            minTemp: -100,\r\n            maxTemp: 100,\r\n            sortStrat: \"distanceLow\",\r\n            amountOfCities: 1000,\r\n            continent: \"--\",\r\n            spokenLanguages: []\r\n            };\r\n    }\r\n\r\n    onChangeMinDistance = (e) => {\r\n        const minDist = e.target.value;\r\n        this.setState({minDist: minDist});\r\n    }\r\n\r\n    onChangeMaxDistance = (e) => {\r\n        const maxDist = e.target.value;\r\n        this.setState({maxDist: maxDist});\r\n    }\r\n\r\n    onChangeMinTemperature = (e) => {\r\n        const minTemp = e.target.value;\r\n        this.setState({minTemp: minTemp});\r\n    }\r\n\r\n    onChangeMaxTemperature = (e) => {\r\n        const maxTemp = e.target.value;\r\n        this.setState({maxTemp: maxTemp});\r\n    }\r\n\r\n    onChangeContinent = (e) => {\r\n        const continent = e.target.value;\r\n        this.setState({continent: continent});\r\n    }\r\n\r\n    onChangeSpokenLanguages = (e) => {\r\n            const languages = e.target.value;\r\n            this.setState({spokenLanguages: languages});\r\n        }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.getCapitals();\r\n    }\r\n\r\n    getCapitals = (async() => {\r\n        const response = await axios.get('cities');\r\n        if(this.state.maxDist === \"\"){ this.setState({maxDist: 100000})};\r\n        if(this.state.maxTemp === \"\"){ this.setState({maxTemp: 100})};\r\n        if(this.state.minTemp === \"\"){ this.setState({minTemp: -100})};\r\n        if(this.state.amountOfCities === \"\"){ this.setState({amountOfCities: 100})};\r\n        ReactDOM.render(<this.showPrefOutput msg={response.data} />, document.getElementById('outputPrefSearch'));\r\n    })\r\n\r\n    onChangeSort = (e) => {\r\n        this.setState({sortStrat: e.target.value});\r\n    }\r\n\r\n    onChangeAmountOfCities = (e) => {\r\n        this.setState({amountOfCities: e.target.value});\r\n    }\r\n\r\n    sortBy(x){\r\n        if(this.state.sortStrat === 'temperatureHigh'){\r\n            x.sort(function (a, b ) {\r\n                return b.temperatureMax - a.temperatureMax;\r\n            })\r\n        }\r\n        else if (this.state.sortStrat === 'temperatureLow'){\r\n            x.sort(function (a, b ) {\r\n                return a.temperatureMin - b.temperatureMin;\r\n            })\r\n        }\r\n        else if (this.state.sortStrat === 'distanceLow'){\r\n            x.sort(function (a, b ) {\r\n                return a.distance - b.distance;\r\n            })\r\n        }\r\n        else if (this.state.sortStrat === 'distanceHigh'){\r\n            x.sort(function (a, b ) {\r\n                return b.distance - a.distance;\r\n            })\r\n        }\r\n        else if(this.state.sortStrat === \"tempDistCombi\"){\r\n            x.sort(function (b, a ) {\r\n                return ((1/a.distance)*(a.temperatureMax+5)) - ((1/b.distance)*(b.temperatureMax+5));\r\n            })\r\n        }\r\n        else if(this.state.sortStrat === \"ratingHigh\"){\r\n            x.sort(function (a, b ) {\r\n                return b.currentRating - a.currentRating;\r\n            })\r\n        }\r\n        else if(this.state.sortStrat === \"all\"){\r\n            x.sort(function (b, a ) {\r\n                return (((a.distance/2)/a.distance)*(a.temperatureMax+5)*(a.currentRating)) - (((b.distance/2)/b.distance)*(b.temperatureMax+5)*(b.currentRating));\r\n            })\r\n        }\r\n        else alert(this.state.sortStrat);\r\n    }\r\n\r\n    viewBtn = (x) => (event) => {\r\n        event.preventDefault();\r\n\r\n        var viewMSG = \"User ratings: \\n \\n\";\r\n\r\n        for(let i = 0; i<x.length;i++){\r\n            viewMSG += \"Username: \" + x[i].username + \"\\n\";\r\n            viewMSG += \"Rating: \" + x[i].amountOfStars + \"\\n\";\r\n            viewMSG += \"Message: \" + x[i].message + \"\\n\";\r\n            viewMSG += \"\\n\";\r\n        }\r\n\r\n        alert(viewMSG);\r\n    }\r\n\r\n    showPrefOutput = (props) => {\r\n        let x = props.msg;\r\n        this.sortBy(x);\r\n        let answer = [];\r\n        answer[0] = <thead key=\"0\"><tr>\r\n                                        <td>City</td>\r\n                                        <td>Country</td>\r\n                                        <td>Distance (km) </td>\r\n                                        <td>Temperature Now (C)</td>\r\n                                        <td>Temperature Min (C)</td>\r\n                                        <td>Temperature Max (C)</td>\r\n                                        <td>Rating (1-5)</td>\r\n                                        <td>Number of ratings</td>\r\n                                        <td></td>\r\n                                    </tr></thead>;\r\n        let i = 1;\r\n        let citiesDisplayed = 0;\r\n        for (i = 1; i<props.msg.length + 1;i++){\r\n            if(props.msg[i-1].distance >= this.state.minDist && props.msg[i-1].distance <= this.state.maxDist\r\n                && props.msg[i-1].temperature >= this.state.minTemp && props.msg[i-1].temperature <= this.state.maxTemp\r\n                ) {\r\n                    if(this.state.continent !== \"--\"){\r\n                        if(this.state.continent === props.msg[i-1].continent){\r\n                            if(citiesDisplayed < this.state.amountOfCities) {\r\n                                answer[i] = <tbody key={i}><tr>\r\n                                                                <td>{props.msg[i-1].cityName}</td>\r\n                                                                <td>{props.msg[i-1].countryName}</td>\r\n                                                                <td>{props.msg[i-1].distance}</td>\r\n                                                                <td>{props.msg[i-1].temperature}</td>\r\n                                                                <td>{props.msg[i-1].temperatureMin}</td>\r\n                                                                <td>{props.msg[i-1].temperatureMax}</td>\r\n                                                                <td>{props.msg[i-1].currentRating.toFixed(1)}</td>\r\n                                                                <td>{props.msg[i-1].cityRating.length}</td>\r\n                                                                <td><button type=\"button\" onClick={this.viewBtn(props.msg[i-1].cityRating)}>view</button></td>\r\n                                                            </tr></tbody>\r\n                                citiesDisplayed++;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (citiesDisplayed < this.state.amountOfCities) {\r\n\r\n                        answer[i] = <tbody key={i}><tr>\r\n                                                        <td>{props.msg[i-1].cityName}</td>\r\n                                                        <td>{props.msg[i-1].countryName}</td>\r\n                                                        <td>{props.msg[i-1].distance}</td>\r\n                                                        <td>{props.msg[i-1].temperature}</td>\r\n                                                        <td>{props.msg[i-1].temperatureMin}</td>\r\n                                                        <td>{props.msg[i-1].temperatureMax}</td>\r\n                                                        <td>{props.msg[i-1].currentRating.toFixed(1)}</td>\r\n                                                        <td>{props.msg[i-1].cityRating.length}</td>\r\n                                                        <td><button type=\"button\" onClick={this.viewBtn(props.msg[i-1].cityRating)}>view</button></td>\r\n                                                    </tr></tbody>\r\n                        citiesDisplayed++;\r\n                    }\r\n            }\r\n        }\r\n        return (\r\n            answer\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"formPrefSearch\">\r\n                    <form onSubmit={this.onSubmit}>\r\n                          <h2>Distance</h2>\r\n                          <p>\r\n                              <label>Min <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMinDistance} />\r\n                                  </label>\r\n                                  <span>&nbsp;</span>\r\n                                  <label>Max <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMaxDistance} />\r\n                              </label>\r\n                          </p>\r\n                          <h2>Temperature</h2>\r\n                          <p>\r\n                              <label>Min <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMinTemperature} />\r\n                              </label>\r\n                              <span>&nbsp;</span>\r\n                              <label>Max <span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeMaxTemperature} />\r\n                              </label>\r\n                          </p>\r\n                           <p>\r\n                              <label>Sort by<span>&nbsp;</span>\r\n                                  <select onChange={this.onChangeSort}>\r\n                                    <option value=\"distanceLow\">Distance Low to High</option>\r\n                                    <option value=\"distanceHigh\">Distance High to Low</option>\r\n                                    <option value=\"temperatureHigh\">Temperature High to Low</option>\r\n                                    <option value=\"temperatureLow\">Temperature Low to High</option>\r\n                                    <option value=\"tempDistCombi\">Temperature Distance Combi</option>\r\n                                    <option value=\"ratingHigh\">Only rating</option>\r\n                                    <option value=\"all\">All</option>\r\n                                  </select>\r\n                              </label>\r\n                              <label><span>&nbsp;&nbsp;</span>Max amount of cities<span>&nbsp;</span>\r\n                                <input type='text' onChange={this.onChangeAmountOfCities} />\r\n                              </label>\r\n                           </p>\r\n                            <p>\r\n                             <label>Continent<span>&nbsp;&nbsp;</span>\r\n                                <select onChange={this.onChangeContinent}>\r\n                                    <option value=\"--\">Choose continent</option>\r\n                                    <option value=\"EU\">Europe</option>\r\n                                    <option value=\"AF\">Africa</option>\r\n                                    <option value=\"NA\">North America</option>\r\n                                    <option value=\"SA\">South America</option>\r\n                                    <option value=\"AS\">Asia</option>\r\n                                    <option value=\"OC\">Australia</option>\r\n                                  </select>\r\n                             </label>\r\n                             </p>\r\n                          <button type=\"submit\">\r\n                            Find cities!\r\n                          </button>\r\n\r\n                      </form>\r\n                </div>\r\n                  <div id=\"testDIV\">\r\n                    <table  id=\"outputPrefSearch\"></table>\r\n                  </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default PreferenceInput"]},"metadata":{},"sourceType":"module"}