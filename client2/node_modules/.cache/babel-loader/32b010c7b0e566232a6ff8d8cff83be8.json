{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asimatovic\\\\GitProjecten\\\\destinationFinder\\\\client\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport Navbar from './components/navbar.component';\nimport './index.css';\nimport textLogo from './images/DFText3.png';\nconst home = \"De Bilt\";\nvar homeLat = 52.11;\nvar homeLng = 5.18;\n\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n  let radius = 6371;\n  let dLat = deg2rad(lat2 - lat1);\n  let dLon = deg2rad(lon2 - lon1);\n  let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  let distance = radius * c;\n  return distance.toFixed(1);\n}\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nReactDOM.render(React.createElement(Navbar, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28\n  },\n  __self: this\n}), document.getElementById('navbar'));\nReactDOM.render(React.createElement(\"img\", {\n  src: textLogo,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29\n  },\n  __self: this\n}), document.getElementById('nameLogo'));\n\nclass InformationSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeTemperature = () => {\n      this.setState(initialState => ({\n        isTemperature: !initialState.isTemperature\n      }));\n    };\n\n    this.onChangeDistance = () => {\n      this.setState(initialState => ({\n        isDistance: !initialState.isDistance\n      }));\n    };\n\n    this.onChangeCity = e => {\n      const citySelected = e.target.value;\n      this.setState({\n        city: citySelected\n      });\n    };\n\n    this.getTemperature = () => {\n      console.log(\"lat and lng in function: \" + this.state.lat + \" + \" + this.state.lng);\n      const url = \"http://api.geonames.org/findNearByWeatherJSON?lat=\" + this.state.lat + \"&lng=\" + this.state.lng + \"&username=destinationFinder\";\n      console.log(url);\n      fetch(url).then(res => res.json()).then(data => {\n        console.log(\"data: \");\n        console.log(data);\n        this.setState({\n          temperature: data.weatherObservation.temperature\n        });\n      }).catch(console.log);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Temperature: \", this.state.temperature, \" degrees\");\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      var username = \"destinationFinder\";\n      this.setState({\n        userName: username\n      });\n      var url = \"http://api.geonames.org/searchJSON?name_equals=\" + this.state.currentLocation + \"&username=\" + username;\n      this.componentDidMountCurrentLocation(url);\n      url = \"http://api.geonames.org/searchJSON?name_equals=\" + this.state.city + \"&username=\" + username;\n      this.componentDidMountCity(url);\n      console.log(\"lat: \" + this.state.lat);\n      console.log(\"homelat: \" + this.state.homeLat);\n      ReactDOM.render(React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.city), document.getElementById('cityName'));\n\n      if (this.state.isTemperature) {\n        console.log(\"lat and lng: \" + this.state.lat + this.state.lng);\n        ReactDOM.render(React.createElement(this.getTemperature, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), document.getElementById('temperatureInfo'));\n      } else {\n        ReactDOM.render(\"\", document.getElementById('temperature'));\n      }\n\n      if (this.state.isDistance) {\n        ReactDOM.render(React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"Distance from \", this.state.currentLocation, \" to \", this.state.city, \":\", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"\\xA0\"), calculateDistance(this.state.homeLat, this.state.homeLng, this.state.lat, this.state.lng), \" km\"), document.getElementById('distance'));\n      } else {\n        ReactDOM.render(\"\", document.getElementById('distance'));\n      } //ReactDOM.render(<FetchCity oldState={this.state} />, document.getElementById('temperatureInfo'));\n\n    };\n\n    this.state = {\n      currentLocation: home,\n      homeLat: \"\",\n      homeLng: \"\",\n      city: \"De Bilt\",\n      isTemperature: false,\n      isDistance: false,\n      lat: \"\",\n      lng: \"\"\n    };\n  }\n\n  componentDidMountCurrentLocation(url) {\n    fetch(url).then(res => res.json()).then(cityData => this.setState({\n      country: \"\",\n      homeLat: cityData.geonames[0].lat,\n      homeLng: cityData.geonames[0].lng\n    }, () => ReactDOM.render(React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Current city: \", this.state.currentLocation), document.getElementById('currentCity'))));\n  }\n\n  componentDidMountCity(url) {\n    fetch(url).then(res => res.json()).then(cityData => this.setState({\n      country: cityData.geonames[0].countryName,\n      lat: cityData.geonames[0].lat,\n      lng: cityData.geonames[0].lng\n    }, () => ReactDOM.render(React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Country: \", this.state.country), document.getElementById('countryName')), ReactDOM.render(React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Lat: \", this.state.lat, \", Lng: \", this.state.lng), document.getElementById('latlng'))));\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChangeCity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Temperature\", React.createElement(\"input\", {\n      name: \"Temperature\",\n      type: \"checkbox\",\n      checked: this.state.name,\n      onChange: this.onChangeTemperature,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Distance\", React.createElement(\"input\", {\n      name: \"Distance\",\n      type: \"checkbox\",\n      checked: this.state.name,\n      onChange: this.onChangeDistance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Get Info\"));\n  }\n\n}\n\nReactDOM.render(React.createElement(InformationSelector, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 157\n  },\n  __self: this\n}), document.getElementById('selectInformationTypes'));\n\nclass CapitalInit extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.initDB = () => {\n      const url = \"http://api.geonames.org/countryInfoJSON?formatted=true&username=destinationFinder\";\n      fetch(url).then(res => res.json()).then(data => {\n        let i;\n\n        for (i = 0; i < data.geonames.length; i++) {\n          if (data.geonames[i].capital.length > 0) {\n            const name = data.geonames[i].capital;\n            const countryName = data.geonames[i].countryName;\n            const spokenLanguages = data.geonames[i].languages;\n            let urlCitySpecific = \"http://api.geonames.org/searchJSON?q=\" + name + \"&maxRows=2&username=destinationFinder\";\n            fetch(urlCitySpecific).then(res => res.json()).then(data => {\n              let lat = data.geonames[0].lat;\n              let lng = data.geonames[0].lng;\n              const distance = calculateDistance(homeLat, homeLng, lat, lng);\n              const city = {\n                \"cityName\": name,\n                \"countryName\": countryName,\n                \"spokenLanguages\": spokenLanguages,\n                \"distance\": distance,\n                \"cityLat\": lat,\n                \"cityLng\": lng\n              };\n              axios.post('http://localhost:5000/cities/add', city);\n            });\n          }\n        }\n\n        console.log(\"DB filled with capitals\");\n      }).catch(console.log);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.initDB,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Initialize Database\"));\n  }\n\n}\n\nReactDOM.render(React.createElement(CapitalInit, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 203\n  },\n  __self: this\n}), document.getElementById('fillDBWithCapitals'));\n\nclass ShowCapitals extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.SortCapitalsDistance = props => {\n      props.msg.sort(function (a, b) {\n        return a.distance - b.distance;\n      });\n      let answer = [];\n      answer[0] = \"City, Distance\";\n      let i;\n\n      for (i = 1; i < props.msg.length; i++) {\n        answer[i] = React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \" \", props.msg[i].cityName, \", \", props.msg[i].distance, \"  \");\n      }\n\n      return answer;\n    };\n\n    this.PrintCapitalsDistance = props => {\n      let answer = [];\n      answer[0] = \"City, Distance\";\n      let i;\n\n      for (i = 1; i < 5; i++) {\n        answer[i] = React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, \" \", props.msg[i].cityName, \", \", props.msg[i].distance, \"  \");\n      }\n\n      return answer;\n    };\n\n    this.showCapitals = async () => {\n      const response = await axios.get('http://localhost:5000/cities');\n      console.log(response.data); //ReactDOM.render(<this.PrintCapitalsDistance msg={response.data} />, document.getElementById('showDBInfo'));\n\n      ReactDOM.render(React.createElement(this.SortCapitalsDistance, {\n        msg: response.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), document.getElementById('showDBInfoSorted'));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.showCapitals,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"Show Capitals\"));\n  }\n\n}\n\nReactDOM.render(React.createElement(ShowCapitals, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 253\n  },\n  __self: this\n}), document.getElementById('showDB'));","map":{"version":3,"sources":["C:/Users/asimatovic/GitProjecten/destinationFinder/client/src/index.js"],"names":["React","ReactDOM","axios","Navbar","textLogo","home","homeLat","homeLng","calculateDistance","lat1","lon1","lat2","lon2","radius","dLat","deg2rad","dLon","a","Math","sin","cos","c","atan2","sqrt","distance","toFixed","deg","PI","render","document","getElementById","InformationSelector","Component","constructor","props","onChangeTemperature","setState","initialState","isTemperature","onChangeDistance","isDistance","onChangeCity","e","citySelected","target","value","city","getTemperature","console","log","state","lat","lng","url","fetch","then","res","json","data","temperature","weatherObservation","catch","onSubmit","preventDefault","username","userName","currentLocation","componentDidMountCurrentLocation","componentDidMountCity","cityData","country","geonames","countryName","name","CapitalInit","initDB","i","length","capital","spokenLanguages","languages","urlCitySpecific","post","ShowCapitals","SortCapitalsDistance","msg","sort","b","answer","cityName","PrintCapitalsDistance","showCapitals","response","get"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport Navbar from './components/navbar.component'\nimport './index.css'\nimport textLogo from './images/DFText3.png'\n\nconst home = \"De Bilt\";\nvar homeLat = 52.11;\nvar homeLng = 5.18;\n\nfunction calculateDistance(lat1, lon1, lat2, lon2){\n    let radius = 6371;\n    let dLat = deg2rad(lat2-lat1);\n    let dLon = deg2rad(lon2-lon1);\n    let a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *\n        Math.sin(dLon/2) * Math.sin(dLon/2);\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    let distance = radius * c;\n    return distance.toFixed(1);\n}\n\nfunction deg2rad(deg) {\n   return deg * (Math.PI/180);\n }\n\nReactDOM.render(< Navbar />, document.getElementById('navbar'));\nReactDOM.render(<img src={textLogo} />, document.getElementById('nameLogo'));\n\n\nclass InformationSelector extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentLocation: home,\n            homeLat: \"\",\n            homeLng: \"\",\n            city: \"De Bilt\",\n            isTemperature: false,\n            isDistance: false,\n            lat: \"\",\n            lng: \"\"\n        };\n    }\n    onChangeTemperature = () => {\n        this.setState(initialState => ({\n            isTemperature: !initialState.isTemperature,\n        }));\n    }\n    onChangeDistance = () => {\n        this.setState(initialState => ({\n            isDistance: !initialState.isDistance,\n        }));\n    }\n    onChangeCity = (e) => {\n        const citySelected = e.target.value;\n        this.setState({city: citySelected});\n    }\n\n    componentDidMountCurrentLocation(url) {\n        fetch(url)\n        .then(res => res.json())\n        .then(cityData => this.setState({country: \"\",\n            homeLat: cityData.geonames[0].lat, homeLng: cityData.geonames[0].lng}, () =>\n            ReactDOM.render(<p>Current city: {this.state.currentLocation}</p>, document.getElementById('currentCity')),\n        ));\n        }\n    componentDidMountCity(url) {\n        fetch(url)\n        .then(res => res.json())\n        .then(cityData => this.setState({country: cityData.geonames[0].countryName,\n            lat: cityData.geonames[0].lat, lng: cityData.geonames[0].lng}, () =>\n            ReactDOM.render(<p>Country: {this.state.country}</p>, document.getElementById('countryName')),\n            ReactDOM.render(<p>Lat: {this.state.lat}, Lng: {this.state.lng}</p>, document.getElementById('latlng'))\n        ));\n    }\n\n    getTemperature = () => {\n        console.log(\"lat and lng in function: \" + this.state.lat + \" + \" + this.state.lng);\n        const url = \"http://api.geonames.org/findNearByWeatherJSON?lat=\" + this.state.lat + \"&lng=\" + this.state.lng +  \"&username=destinationFinder\";\n        console.log(url);\n        fetch(url)\n        .then(res => res.json())\n        .then(data => {\n            console.log(\"data: \");\n            console.log(data);\n            this.setState({temperature: data.weatherObservation.temperature, });\n        })\n        .catch(console.log);\n\n        return <div>Temperature: {this.state.temperature} degrees</div>;\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        var username = \"destinationFinder\"\n        this.setState({userName: username});\n        var url = \"http://api.geonames.org/searchJSON?name_equals=\" + this.state.currentLocation + \"&username=\" + username;\n        this.componentDidMountCurrentLocation(url);\n\n        url = \"http://api.geonames.org/searchJSON?name_equals=\" + this.state.city + \"&username=\" + username;\n        this.componentDidMountCity(url);\n\n        console.log(\"lat: \" + this.state.lat);\n        console.log(\"homelat: \" + this.state.homeLat);\n        ReactDOM.render(<p>{this.state.city}</p>, document.getElementById('cityName'));\n        if (this.state.isTemperature){\n            console.log(\"lat and lng: \" + this.state.lat + this.state.lng);\n            ReactDOM.render(< this.getTemperature />, document.getElementById('temperatureInfo'));\n        }\n        else{\n            ReactDOM.render(\"\", document.getElementById('temperature'));\n        }\n        if (this.state.isDistance){\n            ReactDOM.render(<p>Distance from {this.state.currentLocation} to {this.state.city}:<span>&nbsp;</span>\n             {calculateDistance(this.state.homeLat, this.state.homeLng,\n                                    this.state.lat, this.state.lng)} km</p>, document.getElementById('distance'));\n        }\n        else {\n            ReactDOM.render(\"\", document.getElementById('distance'));\n        }\n        //ReactDOM.render(<FetchCity oldState={this.state} />, document.getElementById('temperatureInfo'));\n    }\n    render() {\n        return (\n         <form onSubmit={this.onSubmit}>\n              <input type='text' onChange={this.onChangeCity} />\n                <p>\n                <label>\n                  Temperature\n                  <input\n                    name=\"Temperature\"\n                    type=\"checkbox\"\n                    checked={this.state.name}\n                    onChange={this.onChangeTemperature}/>\n                </label>\n                <label>\n                  Distance\n                  <input\n                    name=\"Distance\"\n                    type=\"checkbox\"\n                    checked={this.state.name}\n                    onChange={this.onChangeDistance}/>\n                </label>\n              </p>\n              <button>\n                Get Info\n              </button>\n          </form>\n        );\n\n\n    }\n}\n\nReactDOM.render(<InformationSelector />, document.getElementById('selectInformationTypes'));\n\nclass CapitalInit extends React.Component {\n    initDB = () => {\n        const url = \"http://api.geonames.org/countryInfoJSON?formatted=true&username=destinationFinder\";\n        fetch(url)\n        .then(res => res.json())\n        .then(data => {\n            let i;\n            for (i = 0; i< data.geonames.length;i++){\n                if(data.geonames[i].capital.length > 0){\n                    const name = data.geonames[i].capital;\n                    const countryName = data.geonames[i].countryName;\n                    const spokenLanguages = data.geonames[i].languages;\n                    let urlCitySpecific = \"http://api.geonames.org/searchJSON?q=\" + name + \"&maxRows=2&username=destinationFinder\";\n                    fetch(urlCitySpecific)\n                    .then(res => res.json())\n                    .then(data => {\n                        let lat = data.geonames[0].lat;\n                        let lng = data.geonames[0].lng;\n                        const distance = calculateDistance(homeLat, homeLng, lat, lng);\n                        const city = {\n                            \"cityName\": name,\n                            \"countryName\": countryName,\n                            \"spokenLanguages\": spokenLanguages,\n                            \"distance\": distance,\n                            \"cityLat\": lat,\n                            \"cityLng\": lng,\n                        }\n                        axios.post('http://localhost:5000/cities/add', city)\n                    })\n                }\n            }\n            console.log(\"DB filled with capitals\");\n        })\n        .catch(console.log);\n    }\n\n    render() {\n    return(\n        <div>\n            <button onClick={this.initDB} >Initialize Database</button>\n        </div>\n    )}\n}\n\nReactDOM.render(<CapitalInit />, document.getElementById('fillDBWithCapitals'));\n\nclass ShowCapitals extends React.Component {\n\n    SortCapitalsDistance = (props) => {\n        props.msg.sort(function (a, b) {\n            return a.distance - b.distance;\n        })\n\n        let answer = [];\n        answer[0] = \"City, Distance\";\n        let i;\n        for (i = 1; i<props.msg.length;i++){\n            answer[i] = <p> {props.msg[i].cityName}, {props.msg[i].distance}  </p>\n        }\n\n        return (\n            answer\n        )\n    }\n\n    PrintCapitalsDistance = (props) => {\n        let answer = [];\n        answer[0] = \"City, Distance\";\n        let i;\n        for (i = 1; i<5;i++){\n            answer[i] = <p> {props.msg[i].cityName}, {props.msg[i].distance}  </p>\n        }\n\n        return (\n            answer\n        )\n    }\n\n    showCapitals = (async () => {\n        const response = await axios.get('http://localhost:5000/cities')\n        console.log(response.data)\n        //ReactDOM.render(<this.PrintCapitalsDistance msg={response.data} />, document.getElementById('showDBInfo'));\n\n        ReactDOM.render(<this.SortCapitalsDistance msg={response.data} />, document.getElementById('showDBInfoSorted'));\n    })\n\n    render() {\n        return(\n            <div>\n                <button onClick={this.showCapitals} >Show Capitals</button>\n            </div>\n        )\n    }\n}\nReactDOM.render(<ShowCapitals />, document.getElementById('showDB'));\n"]},"metadata":{},"sourceType":"module"}